{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/Dell/Desktop/gymZone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _toConsumableArray from \"C:/Users/Dell/Desktop/gymZone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"C:/Users/Dell/Desktop/gymZone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _asyncToGenerator from \"C:/Users/Dell/Desktop/gymZone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:/Users/Dell/Desktop/gymZone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Dell\\\\Desktop\\\\gymZone\\\\src\\\\contexts\\\\cart-context.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { createContext, useReducer } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport var CartContext = /*#__PURE__*/createContext();\nexport var CartProvider = function CartProvider(_ref) {\n  _s();\n\n  var children = _ref.children;\n\n  var _useReducer = useReducer(cartReducer, {\n    itemsInCart: [],\n    itemsInWishList: []\n  }),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      state = _useReducer2[0],\n      dispatch = _useReducer2[1];\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n      value: {\n        dispatch: dispatch,\n        itemsInWishList: state.itemsInWishList,\n        itemsInCart: state.itemsInCart\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false);\n};\n\n_s(CartProvider, \"sT9AYO3N5Tz4jqn1HKHyzOfAQZs=\");\n\n_c = CartProvider;\n\nfunction cartReducer(_x, _x2) {\n  return _cartReducer.apply(this, arguments);\n} // (async function () {\n//   const { data } = await axios.post(\"./api/cartitems\", {\n//     cartitems: { item: action.payload }\n//   });\n//   console.log(data);\n// })();\n\n\nfunction _cartReducer() {\n  _cartReducer = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(state, action) {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.t0 = action.type;\n            _context.next = _context.t0 === \"RemoveFromCart\" ? 3 : _context.t0 === \"AddToCart\" ? 5 : _context.t0 === \"AddToWishList\" ? 6 : _context.t0 === \"RemoveFromWishList\" ? 7 : _context.t0 === \"Increase\" ? 8 : _context.t0 === \"Decrease\" ? 9 : 10;\n            break;\n\n          case 3:\n            console.log(action.payload);\n            return _context.abrupt(\"return\", _objectSpread(_objectSpread({}, state), {}, {\n              itemsInCart: state.itemsInCart.filter(function (item) {\n                return item.unique !== action.payload.unique;\n              })\n            }));\n\n          case 5:\n            return _context.abrupt(\"return\", _objectSpread(_objectSpread({}, state), {}, {\n              itemsInCart: [].concat(_toConsumableArray(state.itemsInCart), [_objectSpread(_objectSpread({}, action.payload), {}, {\n                quantity: 1\n              })])\n            }));\n\n          case 6:\n            return _context.abrupt(\"return\", _objectSpread(_objectSpread({}, state), {}, {\n              itemsInWishList: [].concat(_toConsumableArray(state.itemsInWishList), [action.payload])\n            }));\n\n          case 7:\n            return _context.abrupt(\"return\", _objectSpread(_objectSpread({}, state), {}, {\n              itemsInWishList: state.itemsInWishList.filter(function (item) {\n                return item.unique !== action.payload.unique;\n              })\n            }));\n\n          case 8:\n            return _context.abrupt(\"return\", _objectSpread(_objectSpread({}, state.itemsInCart), {}, {\n              itemsInCart: _toConsumableArray(state.itemsInCart.map(function (item) {\n                if (item.unique === action.payload.unique) return _objectSpread(_objectSpread({}, item), {}, {\n                  quantity: item.quantity + 1\n                });\n                return item;\n              })),\n              itemsInWishList: state.itemsInWishList\n            }));\n\n          case 9:\n            return _context.abrupt(\"return\", _objectSpread(_objectSpread({}, state.itemsInCart), {}, {\n              itemsInCart: _toConsumableArray(state.itemsInCart.map(function (item) {\n                if (item.unique === action.payload.unique) return _objectSpread(_objectSpread({}, item), {}, {\n                  quantity: item.quantity - 1\n                });\n                return item;\n              })),\n              itemsInWishList: state.itemsInWishList\n            }));\n\n          case 10:\n            return _context.abrupt(\"return\", state);\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _cartReducer.apply(this, arguments);\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"sources":["C:/Users/Dell/Desktop/gymZone/src/contexts/cart-context.js"],"names":["createContext","useReducer","axios","CartContext","CartProvider","children","cartReducer","itemsInCart","itemsInWishList","state","dispatch","action","type","console","log","payload","filter","item","unique","quantity","map"],"mappings":";;;;;;;;;;AAAA,SAASA,aAAT,EAAwBC,UAAxB,QAA0C,OAA1C;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AACA,OAAO,IAAMC,WAAW,gBAAGH,aAAa,EAAjC;AAEP,OAAO,IAAMI,YAAY,GAAG,SAAfA,YAAe,OAAkB;AAAA;;AAAA,MAAfC,QAAe,QAAfA,QAAe;;AAAA,oBAClBJ,UAAU,CAACK,WAAD,EAAc;AAChDC,IAAAA,WAAW,EAAE,EADmC;AAEhDC,IAAAA,eAAe,EAAE;AAF+B,GAAd,CADQ;AAAA;AAAA,MACrCC,KADqC;AAAA,MAC9BC,QAD8B;;AAM5C,sBACE;AAAA,2BACE,QAAC,WAAD,CAAa,QAAb;AACE,MAAA,KAAK,EAAE;AACLA,QAAAA,QAAQ,EAARA,QADK;AAELF,QAAAA,eAAe,EAAEC,KAAK,CAACD,eAFlB;AAGLD,QAAAA,WAAW,EAAEE,KAAK,CAACF;AAHd,OADT;AAAA,gBAOGF;AAPH;AAAA;AAAA;AAAA;AAAA;AADF,mBADF;AAaD,CAnBM;;GAAMD,Y;;KAAAA,Y;;SAoBEE,W;;EAgEf;AACA;AACA;AACA;AACA;AACA;;;;0EArEA,iBAA2BG,KAA3B,EAAkCE,MAAlC;AAAA;AAAA;AAAA;AAAA;AAAA,0BACUA,MAAM,CAACC,IADjB;AAAA,4CAES,gBAFT,uBAWS,WAXT,uBAiBS,eAjBT,uBAyBS,oBAzBT,uBAiCS,UAjCT,uBA8CS,UA9CT;AAAA;;AAAA;AAGMC,YAAAA,OAAO,CAACC,GAAR,CAAYH,MAAM,CAACI,OAAnB;AAHN,6EAMWN,KANX;AAOQF,cAAAA,WAAW,EAAEE,KAAK,CAACF,WAAN,CAAkBS,MAAlB,CACX,UAACC,IAAD;AAAA,uBAAUA,IAAI,CAACC,MAAL,KAAgBP,MAAM,CAACI,OAAP,CAAeG,MAAzC;AAAA,eADW;AAPrB;;AAAA;AAAA,6EAaWT,KAbX;AAcQF,cAAAA,WAAW,+BAAME,KAAK,CAACF,WAAZ,oCAA8BI,MAAM,CAACI,OAArC;AAA8CI,gBAAAA,QAAQ,EAAE;AAAxD;AAdnB;;AAAA;AAAA,6EAqBWV,KArBX;AAsBQD,cAAAA,eAAe,+BAAMC,KAAK,CAACD,eAAZ,IAA6BG,MAAM,CAACI,OAApC;AAtBvB;;AAAA;AAAA,6EA2BWN,KA3BX;AA4BQD,cAAAA,eAAe,EAAEC,KAAK,CAACD,eAAN,CAAsBQ,MAAtB,CACf,UAACC,IAAD;AAAA,uBAAUA,IAAI,CAACC,MAAL,KAAgBP,MAAM,CAACI,OAAP,CAAeG,MAAzC;AAAA,eADe;AA5BzB;;AAAA;AAAA,6EAmCWT,KAAK,CAACF,WAnCjB;AAoCQA,cAAAA,WAAW,qBACNE,KAAK,CAACF,WAAN,CAAkBa,GAAlB,CAAsB,UAACH,IAAD,EAAU;AACjC,oBAAIA,IAAI,CAACC,MAAL,KAAgBP,MAAM,CAACI,OAAP,CAAeG,MAAnC,EACE,uCAAYD,IAAZ;AAAkBE,kBAAAA,QAAQ,EAAEF,IAAI,CAACE,QAAL,GAAgB;AAA5C;AACF,uBAAOF,IAAP;AACD,eAJE,CADM,CApCnB;AA2CQT,cAAAA,eAAe,EAAEC,KAAK,CAACD;AA3C/B;;AAAA;AAAA,6EAgDWC,KAAK,CAACF,WAhDjB;AAiDQA,cAAAA,WAAW,qBACNE,KAAK,CAACF,WAAN,CAAkBa,GAAlB,CAAsB,UAACH,IAAD,EAAU;AACjC,oBAAIA,IAAI,CAACC,MAAL,KAAgBP,MAAM,CAACI,OAAP,CAAeG,MAAnC,EACE,uCAAYD,IAAZ;AAAkBE,kBAAAA,QAAQ,EAAEF,IAAI,CAACE,QAAL,GAAgB;AAA5C;AACF,uBAAOF,IAAP;AACD,eAJE,CADM,CAjDnB;AAwDQT,cAAAA,eAAe,EAAEC,KAAK,CAACD;AAxD/B;;AAAA;AAAA,6CA4DaC,KA5Db;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import { createContext, useReducer } from \"react\";\r\nimport axios from \"axios\"\r\nexport const CartContext = createContext();\r\n\r\nexport const CartProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(cartReducer, {\r\n    itemsInCart: [],\r\n    itemsInWishList: []\r\n  });\r\n \r\n  return (\r\n    <>\r\n      <CartContext.Provider\r\n        value={{\r\n          dispatch,\r\n          itemsInWishList: state.itemsInWishList,\r\n          itemsInCart: state.itemsInCart\r\n        }}\r\n      >\r\n        {children}\r\n      </CartContext.Provider>\r\n    </>\r\n  );\r\n};\r\nasync function cartReducer(state, action) {\r\n  switch (action.type) {\r\n    case \"RemoveFromCart\":\r\n      console.log(action.payload);\r\n\r\n      return {\r\n        ...state,\r\n        itemsInCart: state.itemsInCart.filter(\r\n          (item) => item.unique !== action.payload.unique\r\n        )\r\n      };\r\n    case \"AddToCart\":\r\n      return {\r\n        ...state,\r\n        itemsInCart: [...state.itemsInCart, { ...action.payload, quantity: 1 }]\r\n      };\r\n\r\n    case \"AddToWishList\":\r\n      // const {data} = await axios.post(\"http://localhost:5000/api/wishlist\",action.payload)\r\n      // console.log(data)\r\n      return {\r\n        ...state,\r\n        itemsInWishList: [...state.itemsInWishList, action.payload]\r\n      };\r\n\r\n    case \"RemoveFromWishList\":\r\n      return {\r\n        ...state,\r\n        itemsInWishList: state.itemsInWishList.filter(\r\n          (item) => item.unique !== action.payload.unique\r\n        )\r\n      };\r\n\r\n    case \"Increase\":\r\n      return {\r\n        ...state.itemsInCart,\r\n        itemsInCart: [\r\n          ...state.itemsInCart.map((item) => {\r\n            if (item.unique === action.payload.unique)\r\n              return { ...item, quantity: item.quantity + 1 };\r\n            return item;\r\n          })\r\n        ],\r\n        itemsInWishList: state.itemsInWishList\r\n      };\r\n\r\n    case \"Decrease\":\r\n      return {\r\n        ...state.itemsInCart,\r\n        itemsInCart: [\r\n          ...state.itemsInCart.map((item) => {\r\n            if (item.unique === action.payload.unique)\r\n              return { ...item, quantity: item.quantity - 1 };\r\n            return item;\r\n          })\r\n        ],\r\n        itemsInWishList: state.itemsInWishList\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n// (async function () {\r\n//   const { data } = await axios.post(\"./api/cartitems\", {\r\n//     cartitems: { item: action.payload }\r\n//   });\r\n//   console.log(data);\r\n// })();\r\n"]},"metadata":{},"sourceType":"module"}