{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/Dell/Desktop/gymZone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/Dell/Desktop/gymZone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _toConsumableArray from \"C:/Users/Dell/Desktop/gymZone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"C:/Users/Dell/Desktop/gymZone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:/Users/Dell/Desktop/gymZone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Dell\\\\Desktop\\\\gymZone\\\\src\\\\contexts\\\\cart-context.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { createContext, useReducer } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport var CartContext = /*#__PURE__*/createContext();\nexport var CartProvider = function CartProvider(_ref) {\n  _s();\n\n  var children = _ref.children;\n\n  var _useReducer = useReducer(cartReducer, {\n    itemsInCart: [],\n    itemsInWishList: []\n  }),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      state = _useReducer2[0],\n      dispatch = _useReducer2[1];\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n      value: {\n        dispatch: dispatch,\n        itemsInWishList: state.itemsInWishList,\n        itemsInCart: state.itemsInCart\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false);\n};\n\n_s(CartProvider, \"sT9AYO3N5Tz4jqn1HKHyzOfAQZs=\");\n\n_c = CartProvider;\n\nfunction cartReducer(state, action) {\n  switch (action.type) {\n    case \"RemoveFromCart\":\n      console.log(action.payload);\n      return _objectSpread(_objectSpread({}, state), {}, {\n        itemsInCart: state.itemsInCart.filter(function (item) {\n          return item.unique !== action.payload.unique;\n        })\n      });\n\n    case \"AddToCart\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        itemsInCart: [].concat(_toConsumableArray(state.itemsInCart), [_objectSpread(_objectSpread({}, action.payload), {}, {\n          quantity: 1\n        })])\n      });\n\n    case \"AddToWishList\":\n      _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var _yield$axios$post, data;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return axios.post(\"http://localhost:5000/api/wishlist\", action.payload);\n\n              case 3:\n                _yield$axios$post = _context.sent;\n                data = _yield$axios$post.data;\n                console.log(data === null || data === void 0 ? void 0 : data.success);\n                console.log(data);\n                _context.next = 12;\n                break;\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](0);\n                console.log(_context.t0);\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 9]]);\n      }))();\n\n      return _objectSpread(_objectSpread({}, state), {}, {\n        itemsInWishList: [].concat(_toConsumableArray(state.itemsInWishList), [action.payload])\n      });\n\n    case \"setWishList\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        itemsInWishList: action.payload\n      });\n\n    case \"RemoveFromWishList\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        itemsInWishList: state.itemsInWishList.filter(function (item) {\n          return item.unique !== action.payload.unique;\n        })\n      });\n\n    case \"Increase\":\n      return _objectSpread(_objectSpread({}, state.itemsInCart), {}, {\n        itemsInCart: _toConsumableArray(state.itemsInCart.map(function (item) {\n          if (item.unique === action.payload.unique) return _objectSpread(_objectSpread({}, item), {}, {\n            quantity: item.quantity + 1\n          });\n          return item;\n        })),\n        itemsInWishList: state.itemsInWishList\n      });\n\n    case \"Decrease\":\n      return _objectSpread(_objectSpread({}, state.itemsInCart), {}, {\n        itemsInCart: _toConsumableArray(state.itemsInCart.map(function (item) {\n          if (item.unique === action.payload.unique) return _objectSpread(_objectSpread({}, item), {}, {\n            quantity: item.quantity - 1\n          });\n          return item;\n        })),\n        itemsInWishList: state.itemsInWishList\n      });\n\n    default:\n      return state;\n  }\n} // (async function () {\n//   const { data } = await axios.post(\"./api/cartitems\", {\n//     cartitems: { item: action.payload }\n//   });\n//   console.log(data);\n// })();\n\n\nvar _c;\n\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"sources":["C:/Users/Dell/Desktop/gymZone/src/contexts/cart-context.js"],"names":["createContext","useReducer","axios","CartContext","CartProvider","children","cartReducer","itemsInCart","itemsInWishList","state","dispatch","action","type","console","log","payload","filter","item","unique","quantity","post","data","success","map"],"mappings":"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","sourcesContent":["import { createContext, useReducer } from \"react\";\r\nimport axios from \"axios\"\r\nexport const CartContext = createContext();\r\n\r\nexport const CartProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(cartReducer, {\r\n    itemsInCart: [],\r\n    itemsInWishList: []\r\n  });\r\n \r\n  return (\r\n    <>\r\n      <CartContext.Provider\r\n        value={{\r\n          dispatch,\r\n          itemsInWishList: state.itemsInWishList,\r\n          itemsInCart: state.itemsInCart\r\n        }}\r\n      >\r\n        {children}\r\n      </CartContext.Provider>\r\n    </>\r\n  );\r\n};\r\n function cartReducer(state, action) {\r\n  switch (action.type) {\r\n    case \"RemoveFromCart\":\r\n      console.log(action.payload);\r\n\r\n      return {\r\n        ...state,\r\n        itemsInCart: state.itemsInCart.filter(\r\n          (item) => item.unique !== action.payload.unique\r\n        )\r\n      };\r\n    case \"AddToCart\":\r\n      return {\r\n        ...state,\r\n        itemsInCart: [...state.itemsInCart, { ...action.payload, quantity: 1 }]\r\n      };\r\n\r\n    case \"AddToWishList\":\r\n     ( async ()=>\r\n      {\r\n        try{\r\n          const {data} = await axios.post(\"http://localhost:5000/api/wishlist\",action.payload)\r\n          console.log(data?.success )\r\n          console.log(data)\r\n        }\r\n        catch(err)\r\n        {\r\n          console.log(err)\r\n        }\r\n      \r\n      })()\r\n    \r\n      return {\r\n        ...state,\r\n        itemsInWishList: [...state.itemsInWishList, action.payload]\r\n      };\r\n      case  \"setWishList\" :\r\n      return {...state,itemsInWishList:action.payload}\r\n    case \"RemoveFromWishList\":\r\n      return {\r\n        ...state,\r\n        itemsInWishList: state.itemsInWishList.filter(\r\n          (item) => item.unique !== action.payload.unique\r\n        )\r\n      };\r\n\r\n    case \"Increase\":\r\n      return {\r\n        ...state.itemsInCart,\r\n        itemsInCart: [\r\n          ...state.itemsInCart.map((item) => {\r\n            if (item.unique === action.payload.unique)\r\n              return { ...item, quantity: item.quantity + 1 };\r\n            return item;\r\n          })\r\n        ],\r\n        itemsInWishList: state.itemsInWishList\r\n      };\r\n\r\n    case \"Decrease\":\r\n      return {\r\n        ...state.itemsInCart,\r\n        itemsInCart: [\r\n          ...state.itemsInCart.map((item) => {\r\n            if (item.unique === action.payload.unique)\r\n              return { ...item, quantity: item.quantity - 1 };\r\n            return item;\r\n          })\r\n        ],\r\n        itemsInWishList: state.itemsInWishList\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n// (async function () {\r\n//   const { data } = await axios.post(\"./api/cartitems\", {\r\n//     cartitems: { item: action.payload }\r\n//   });\r\n//   console.log(data);\r\n// })();\r\n"]},"metadata":{},"sourceType":"module"}