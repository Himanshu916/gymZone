{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Dell/Desktop/gymZone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:/Users/Dell/Desktop/gymZone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"C:/Users/Dell/Desktop/gymZone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Dell/Desktop/gymZone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Dell/Desktop/gymZone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{createContext,useReducer}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var CartContext=/*#__PURE__*/createContext();export var CartProvider=function CartProvider(_ref){var children=_ref.children;var _useReducer=useReducer(cartReducer,{itemsInCart:[],itemsInWishList:[]}),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(CartContext.Provider,{value:{dispatch:dispatch,itemsInWishList:state.itemsInWishList,itemsInCart:state.itemsInCart},children:children})});};function cartReducer(state,action){switch(action.type){case\"RemoveFromCart\":console.log(action.payload);_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.delete(\"http://localhost:5000/api/cart\",{data:action.payload});case 3:_context.next=8;break;case 5:_context.prev=5;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 8:case\"end\":return _context.stop();}}},_callee,null,[[0,5]]);}))();return _objectSpread(_objectSpread({},state),{},{itemsInCart:state.itemsInCart.filter(function(item){return item.unique!==action.payload.unique;})});case\"AddToCart\":_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.post(\"http://localhost:5000/api/cart\",_objectSpread(_objectSpread({},action.payload),{},{quantity:1}));case 3:_context2.next=8;break;case 5:_context2.prev=5;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 8:case\"end\":return _context2.stop();}}},_callee2,null,[[0,5]]);}))();return _objectSpread(_objectSpread({},state),{},{itemsInCart:[].concat(_toConsumableArray(state.itemsInCart),[_objectSpread(_objectSpread({},action.payload),{},{quantity:1})])});case\"AddToWishList\":_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.post(\"http://localhost:5000/api/wishlist\",action.payload);case 3:_context3.next=8;break;case 5:_context3.prev=5;_context3.t0=_context3[\"catch\"](0);console.log(_context3.t0);case 8:case\"end\":return _context3.stop();}}},_callee3,null,[[0,5]]);}))();return _objectSpread(_objectSpread({},state),{},{itemsInWishList:[].concat(_toConsumableArray(state.itemsInWishList),[action.payload])});case\"setWishList\":return _objectSpread(_objectSpread({},state),{},{itemsInWishList:action.payload});case\"setCart\":return _objectSpread(_objectSpread({},state),{},{itemsInCart:action.payload});case\"RemoveFromWishList\":_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return axios.delete(\"http://localhost:5000/api/wishlist\",{data:action.payload});case 3:_context4.next=8;break;case 5:_context4.prev=5;_context4.t0=_context4[\"catch\"](0);console.log(_context4.t0);case 8:case\"end\":return _context4.stop();}}},_callee4,null,[[0,5]]);}))();return _objectSpread(_objectSpread({},state),{},{itemsInWishList:state.itemsInWishList.filter(function(item){return item.unique!==action.payload.unique;})});case\"Increase\":return _objectSpread(_objectSpread({},state.itemsInCart),{},{itemsInCart:_toConsumableArray(state.itemsInCart.map(function(item){if(item.unique===action.payload.unique)return _objectSpread(_objectSpread({},item),{},{quantity:item.quantity+1});return item;})),itemsInWishList:state.itemsInWishList});case\"Decrease\":return _objectSpread(_objectSpread({},state.itemsInCart),{},{itemsInCart:_toConsumableArray(state.itemsInCart.map(function(item){if(item.unique===action.payload.unique)return _objectSpread(_objectSpread({},item),{},{quantity:item.quantity-1});return item;})),itemsInWishList:state.itemsInWishList});default:return state;}}// (async function () {\n//   const { data } = await axios.post(\"./api/cartitems\", {\n//     cartitems: { item: action.payload }\n//   });\n//   console.log(data);\n// })();","map":{"version":3,"sources":["C:/Users/Dell/Desktop/gymZone/src/contexts/cart-context.js"],"names":["createContext","useReducer","axios","CartContext","CartProvider","children","cartReducer","itemsInCart","itemsInWishList","state","dispatch","action","type","console","log","payload","delete","data","filter","item","unique","post","quantity","map"],"mappings":"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","sourcesContent":["import { createContext, useReducer } from \"react\";\r\nimport axios from \"axios\"\r\nexport const CartContext = createContext();\r\n\r\nexport const CartProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(cartReducer, {\r\n    itemsInCart: [],\r\n    itemsInWishList: []\r\n  });\r\n \r\n  return (\r\n    <>\r\n      <CartContext.Provider\r\n        value={{\r\n          dispatch,\r\n          itemsInWishList: state.itemsInWishList,\r\n          itemsInCart: state.itemsInCart\r\n        }}\r\n      >\r\n        {children}\r\n      </CartContext.Provider>\r\n    </>\r\n  );\r\n};\r\n function cartReducer(state, action) {\r\n  switch (action.type) {\r\n    case \"RemoveFromCart\":\r\n      console.log(action.payload);\r\n      ( async ()=>\r\n      {\r\n        try{\r\n          await axios.delete(\"http://localhost:5000/api/cart\",{data:action.payload})\r\n         \r\n        }\r\n        catch(err)\r\n        {\r\n          console.log(err) \r\n         \r\n        }\r\n      })()\r\n      return {\r\n        ...state,\r\n        itemsInCart: state.itemsInCart.filter(\r\n          (item) => item.unique !== action.payload.unique\r\n        )\r\n      };\r\n    case \"AddToCart\":\r\n      ( async ()=>\r\n      {\r\n        try{\r\n          await axios.post(\"http://localhost:5000/api/cart\",{...action.payload,quantity:1})\r\n         \r\n        }\r\n        catch(err)\r\n        {\r\n          console.log(err)\r\n          \r\n        }\r\n\r\n      \r\n      })()\r\n      return {\r\n        ...state,\r\n        itemsInCart: [...state.itemsInCart, { ...action.payload, quantity: 1 }]\r\n      };\r\n\r\n    case \"AddToWishList\":\r\n     ( async ()=>\r\n      {\r\n        try{\r\n          await axios.post(\"http://localhost:5000/api/wishlist\",action.payload)\r\n         \r\n        }\r\n        catch(err)\r\n        {\r\n          console.log(err)\r\n          \r\n        }\r\n\r\n      \r\n      })()\r\n \r\n      return {\r\n        ...state,\r\n        itemsInWishList: [...state.itemsInWishList, action.payload]\r\n      };\r\n   \r\n    case  \"setWishList\" :\r\n      return {...state,itemsInWishList:action.payload};\r\n\r\n    case  \"setCart\" :\r\n        return {...state,itemsInCart:action.payload}\r\n\r\n    case \"RemoveFromWishList\":\r\n    \r\n      ( async ()=>\r\n      {\r\n        try{\r\n          await axios.delete(\"http://localhost:5000/api/wishlist\",{data:action.payload})\r\n         \r\n        }\r\n        catch(err)\r\n        {\r\n          console.log(err) \r\n         \r\n        }\r\n      })()\r\n      return {\r\n        ...state,\r\n        itemsInWishList: state.itemsInWishList.filter(\r\n          (item) => item.unique !== action.payload.unique\r\n        )\r\n      };\r\n\r\n    case \"Increase\":\r\n      return {\r\n        ...state.itemsInCart,\r\n        itemsInCart: [\r\n          ...state.itemsInCart.map((item) => {\r\n            if (item.unique === action.payload.unique)\r\n              return { ...item, quantity: item.quantity + 1 };\r\n            return item;\r\n          })\r\n        ],\r\n        itemsInWishList: state.itemsInWishList\r\n      };\r\n\r\n    case \"Decrease\":\r\n      return {\r\n        ...state.itemsInCart,\r\n        itemsInCart: [\r\n          ...state.itemsInCart.map((item) => {\r\n            if (item.unique === action.payload.unique)\r\n              return { ...item, quantity: item.quantity - 1 };\r\n            return item;\r\n          })\r\n        ],\r\n        itemsInWishList: state.itemsInWishList\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n// (async function () {\r\n//   const { data } = await axios.post(\"./api/cartitems\", {\r\n//     cartitems: { item: action.payload }\r\n//   });\r\n//   console.log(data);\r\n// })();\r\n"]},"metadata":{},"sourceType":"module"}