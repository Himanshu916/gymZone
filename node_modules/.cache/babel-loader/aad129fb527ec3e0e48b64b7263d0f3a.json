{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Dell/Desktop/gymZone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Dell/Desktop/gymZone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Dell/Desktop/gymZone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useContext,useState,useEffect}from\"react\";import{CartContext}from\"../contexts/cart-context\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var discountAmount;var totalMarked;export default function Cart(){var _useContext=useContext(CartContext),dispatch=_useContext.dispatch;var _useContext2=useContext(CartContext),itemsInCart=_useContext2.itemsInCart;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),total=_useState2[0],setTotal=_useState2[1];useEffect(function(){var totalAmount=0;discountAmount=0;totalMarked=0;itemsInCart.forEach(function(item){totalMarked+=item.markedprice*item.quantity;totalAmount+=(item.markedprice-item.discount/100*item.markedprice)*item.quantity;discountAmount+=item.discount/100*item.markedprice*item.quantity;});setTotal(totalAmount);},[itemsInCart]);useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"http://localhost:5000/api/cart\");case 2:_yield$axios$get=_context.sent;data=_yield$axios$get.data;console.log(data);dispatch({type:\"setCart\",payload:data});case 6:case\"end\":return _context.stop();}}},_callee);})),[]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"cartPage\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cartPage__items\",children:function(){if(itemsInCart.length===0)return/*#__PURE__*/_jsx(\"p\",{children:\"Nothing in cart\"});return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"ul\",{className:\"stacked \",children:itemsInCart.map(function(item){var flag=0;var price=(item.markedprice-item.discount/100*item.markedprice)*item.quantity;if(item.quantity===0){flag=1;}return/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"shoppingBag\",children:[/*#__PURE__*/_jsx(\"img\",{src:item.imgsrc,alt:\"\"}),/*#__PURE__*/_jsx(\"button\",{className:\"primary-btn\",onClick:function onClick(){console.log(\"clicked\",item);dispatch({type:\"RemoveFromCart\",payload:item});},children:\"Remove\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"shoppingBag--information\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Brand X\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\" \",item.text]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Quantity : \",item.quantity]}),/*#__PURE__*/_jsx(\"button\",{className:\"quantity-btn\",onClick:function onClick(){dispatch({type:\"Increase\",payload:item});},children:\"+\"}),/*#__PURE__*/_jsx(\"button\",{className:\"quantity-btn\",disabled:flag===0?false:true,onClick:function onClick(){return dispatch({type:\"Decrease\",payload:item});},children:\"-\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\" Rs.\",price,\" \",item.markedprice]})]})]});})})});}()}),itemsInCart.length!==0?/*#__PURE__*/_jsxs(\"div\",{className:\"cartPage__place\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"place__detail\",children:/*#__PURE__*/_jsx(\"h2\",{children:\" PRICE DETAILS\"})}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"place__information\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"place__information__list\",children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Price items\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\" Rs \",totalMarked,\" \"]})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Discount\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"green_text\",children:[\"Rs \",discountAmount,\" \"]})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\" Delivery charges\"}),/*#__PURE__*/_jsx(\"span\",{className:\"green_text\",children:\"Free\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"place__total\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Total Amount\"}),/*#__PURE__*/_jsx(\"h4\",{children:total})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"green_text discount_message\",children:[\"You will save \",discountAmount,\" on this order\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"orderButton\",children:/*#__PURE__*/_jsx(\"button\",{className:\"placeOrder\",children:\"Place Order\"})})]})]}):\"\"]})});}","map":{"version":3,"sources":["C:/Users/Dell/Desktop/gymZone/src/components/cart.js"],"names":["useContext","useState","useEffect","CartContext","axios","discountAmount","totalMarked","Cart","dispatch","itemsInCart","total","setTotal","totalAmount","forEach","item","markedprice","quantity","discount","get","data","console","log","type","payload","length","map","flag","price","imgsrc","text"],"mappings":"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","sourcesContent":["import { useContext,useState,useEffect } from \"react\";\r\nimport { CartContext } from \"../contexts/cart-context\";\r\nimport axios from \"axios\"\r\nlet discountAmount;\r\nlet totalMarked;\r\nexport default function Cart() {\r\n  const { dispatch } = useContext(CartContext);\r\n  const { itemsInCart } = useContext(CartContext);\r\n  const [total,setTotal] = useState(0);\r\n \r\n\r\n\r\n  useEffect(()=>\r\n  {\r\n\r\n    let totalAmount =0;\r\n    discountAmount =0;\r\n    totalMarked=0;\r\n   \r\n    itemsInCart.forEach(item=>\r\n      {\r\n        totalMarked += item.markedprice*item.quantity;\r\n        totalAmount +=  (item.markedprice -\r\n          (item.discount / 100) * item.markedprice) *\r\n        item.quantity;\r\n        discountAmount +=  ((item.discount / 100) * item.markedprice)*\r\n        item.quantity\r\n      })\r\n      setTotal(totalAmount)\r\n  },[itemsInCart])\r\n  useEffect(async ()=>\r\n  {\r\n    const {data}= await axios.get(\"http://localhost:5000/api/cart\");\r\n    console.log(data)\r\n    dispatch({type:\"setCart\",payload:data})\r\n  },[])\r\n  return (\r\n    <>\r\n      <div className=\"cartPage\">\r\n        <div className=\"cartPage__items\">\r\n\r\n        \r\n        {(() => {\r\n          if (itemsInCart.length === 0) return <p>Nothing in cart</p>;\r\n          return (\r\n            <div >\r\n              <ul className=\"stacked \">\r\n                {itemsInCart.map((item) => {\r\n                  let flag = 0;\r\n                \r\n                  const price =\r\n                    (item.markedprice -\r\n                      (item.discount / 100) * item.markedprice) *\r\n                    item.quantity;\r\n\r\n                  if (item.quantity === 0) {\r\n                    flag = 1;\r\n                  }\r\n                  return (\r\n                    <li>\r\n                      <div className=\"shoppingBag\">\r\n                        <img src={item.imgsrc} alt=\"\" />\r\n                        <button\r\n                          className=\"primary-btn\"\r\n                          onClick={() => {\r\n                            console.log(\"clicked\", item);\r\n                            dispatch({ type: \"RemoveFromCart\", payload: item });\r\n                          }}\r\n                        >\r\n                          Remove\r\n                        </button>\r\n                       \r\n                      </div>\r\n                      <div className=\"shoppingBag--information\">\r\n                        <div>\r\n                          <h3>Brand X</h3>\r\n                          <div>\r\n                            <p> {item.text}</p>\r\n                            <p>Quantity : {item.quantity}</p>\r\n                            <button\r\n                              className=\"quantity-btn\"\r\n                              onClick={() => {\r\n                               \r\n                                dispatch({ type: \"Increase\", payload: item });\r\n                              }}\r\n                            >\r\n                              +\r\n                            </button>\r\n                            <button\r\n                              className=\"quantity-btn\"\r\n                              disabled={flag === 0 ? false : true}\r\n                              onClick={() =>\r\n                                dispatch({ type: \"Decrease\", payload: item })\r\n                              }\r\n                            >\r\n                              -\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n\r\n                        <div> Rs.{price} {item.markedprice}</div>\r\n                      </div>\r\n                    </li>\r\n                  );\r\n                })}\r\n              </ul>\r\n            </div>\r\n          );\r\n        })()}\r\n        </div>\r\n        {\r\n\r\n       itemsInCart.length !== 0 ? \r\n        <div className=\"cartPage__place\">\r\n            <div className=\"place__detail\">\r\n             <h2> PRICE DETAILS</h2>\r\n            </div>\r\n            <hr/>\r\n            <div className=\"place__information\">\r\n              <ul className=\"place__information__list\">\r\n                <li >\r\n                    <span>Price items</span>\r\n                    <span> Rs {totalMarked} </span>\r\n                </li>\r\n                <li>\r\n                  <span>Discount</span>\r\n                  <span className=\"green_text\">Rs {discountAmount} </span>\r\n                </li>\r\n                <li>\r\n                    <span> Delivery charges</span>\r\n                    <span className=\"green_text\">Free</span>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n            <div className=\"place__total\">\r\n               <h2>Total Amount</h2>\r\n               <h4>{total}</h4>\r\n            </div>\r\n            <div >\r\n            <h2 className=\"green_text discount_message\">\r\n            You will save {discountAmount} on this order\r\n            </h2>\r\n               \r\n            <div className=\"orderButton\">\r\n              <button className=\"placeOrder\">Place Order</button>\r\n            </div> \r\n            </div>\r\n          \r\n        </div>\r\n        :\"\"\r\n        }\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}