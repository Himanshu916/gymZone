{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Dell/Desktop/gymZone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Dell/Desktop/gymZone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Dell/Desktop/gymZone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useParams}from\"react-router-dom\";import axios from\"axios\";import{useEffect,useState,useContext}from\"react\";import{CartContext}from\"../contexts/cart-context\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Product(){var _useContext=useContext(CartContext),dispatch=_useContext.dispatch,itemsInCart=_useContext.itemsInCart,itemsInWishList=_useContext.itemsInWishList;var _useParams=useParams(),id=_useParams.id;console.log(id);var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),product=_useState2[0],setProduct=_useState2[1];var x;useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"http://localhost:5000/api/products/\"+id);case 2:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setProduct(data);case 5:case\"end\":return _context.stop();}}},_callee);})),[]);var index=itemsInCart.findIndex(function(item){return item._id===product._id;});var indexwl=itemsInWishList.findIndex(function(item){return item._id===product._id;});var price=product.markedprice-product.discount/100*product.markedprice;return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"product\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"product__image\",children:/*#__PURE__*/_jsx(\"img\",{src:product.imgsrc,alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"product__description\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"product__name\",children:product.text}),/*#__PURE__*/_jsxs(\"div\",{className:\"card__price product__price\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Rs.\",price,\" \"]}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:\"2rem\"},className:\"card__price-marked\",children:product.markedprice}),/*#__PURE__*/_jsxs(\"span\",{className:\"card__price-discount\",children:[\"( \",product.discount,\"% off)\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product__buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:index===-1?\"primary-btn btn--hover\":\"primary-btn-added btn--hover\",disabled:index===-1?false:true,onClick:function onClick(){dispatch({type:\"AddToCart\",payload:product});},children:\"Add to cart\"}),/*#__PURE__*/_jsx(\"button\",{className:\"secondary-btn btn--hover\",style:indexwl===-1?{display:\"\"}:{display:\"none\"},onClick:function onClick(){dispatch({type:\"AddToWishList\",payload:product});},children:\"Move To WishList\"}),/*#__PURE__*/_jsx(\"button\",{className:\"secondary-btn btn--hover\",style:indexwl!==-1?{display:\"\"}:{display:\"none\"},onClick:function onClick(){dispatch({type:\"RemoveFromWishList\",payload:product});},children:\"Remove From WishList\"})]})]})]})});}","map":{"version":3,"sources":["C:/Users/Dell/Desktop/gymZone/src/components/Product.js"],"names":["useParams","axios","useEffect","useState","useContext","CartContext","Product","dispatch","itemsInCart","itemsInWishList","id","console","log","product","setProduct","x","get","data","index","findIndex","item","_id","indexwl","price","markedprice","discount","imgsrc","text","fontSize","type","payload","display"],"mappings":"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","sourcesContent":["import {useParams} from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport {useEffect,useState,useContext} from \"react\";\r\nimport { CartContext } from \"../contexts/cart-context\";\r\n\r\nexport default function Product()\r\n{\r\n    const { dispatch, itemsInCart, itemsInWishList } = useContext(CartContext);\r\n  const {id} = useParams();\r\n  console.log(id);\r\n    const [product,setProduct]=useState(\"\");\r\n    let x;\r\n    useEffect(async()=>\r\n    {\r\n        const {data} = await axios.get(\"http://localhost:5000/api/products/\"+id);\r\n\r\n            setProduct(data);\r\n          \r\n    },[])\r\n    const index = itemsInCart.findIndex(\r\n        (item) => item._id === product._id\r\n      );\r\n      const indexwl = itemsInWishList.findIndex(\r\n        (item) => item._id === product._id\r\n      );\r\n    const price =\r\n    product.markedprice - (product.discount / 100) * product.markedprice;\r\n  return(\r\n      <>\r\n    <div className=\"product\">\r\n        <div className=\"product__image\">\r\n            <img src={product.imgsrc} alt=\"\"/>\r\n        </div>\r\n        <div className=\"product__description\">\r\n            <h1 className=\"product__name\">\r\n                {product.text}\r\n            </h1>\r\n            <div className=\"card__price product__price\">\r\n                  <span>Rs.{price} </span>\r\n                  <span style={{fontSize:\"2rem\"}} className=\"card__price-marked\">\r\n                    {product.markedprice}\r\n                  </span>\r\n                  <span className=\"card__price-discount\">\r\n                    ( {product.discount}% off)\r\n                  </span>\r\n            </div>\r\n      <div className=\"product__buttons\">\r\n\r\n      \r\n        <button className={\r\n                      index === -1\r\n                        ? \"primary-btn btn--hover\"\r\n                        : \"primary-btn-added btn--hover\"\r\n                    }\r\n                    disabled={index === -1 ? false : true}\r\n                    onClick={() => {\r\n                      dispatch({\r\n                        type: \"AddToCart\",\r\n                        payload: product\r\n                      });\r\n                    }}\r\n                  >\r\n                    Add to cart\r\n                  </button>\r\n                  <button\r\n                    className=\"secondary-btn btn--hover\"\r\n                    style={\r\n                      indexwl === -1 ? { display: \"\" } : { display: \"none\" }\r\n                    }\r\n                    onClick={() => {\r\n                      dispatch({\r\n                        type: \"AddToWishList\",\r\n                        payload: product\r\n                      });\r\n                    }}\r\n                  >\r\n                    Move To WishList\r\n                  </button>\r\n                  <button\r\n                    className=\"secondary-btn btn--hover\"\r\n                    style={\r\n                      indexwl !== -1 ? { display: \"\" } : { display: \"none\" }\r\n                    }\r\n                    onClick={() => {\r\n                      dispatch({\r\n                        type: \"RemoveFromWishList\",\r\n                        payload: product\r\n                      });\r\n                    }}\r\n                  >\r\n                    Remove From WishList\r\n                  </button>\r\n                  </div>\r\n                  </div>\r\n        </div>\r\n   \r\n    </>\r\n  )\r\n}"]},"metadata":{},"sourceType":"module"}